{
  "name": "djot",
  "rules": {
    "document": {
      "type": "REPEAT",
      "content": {
        "type": "SYMBOL",
        "name": "_block"
      }
    },
    "_block": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_heading"
        },
        {
          "type": "SYMBOL",
          "name": "div"
        },
        {
          "type": "SYMBOL",
          "name": "blockquote"
        },
        {
          "type": "SYMBOL",
          "name": "link_reference_definition"
        },
        {
          "type": "SYMBOL",
          "name": "paragraph"
        },
        {
          "type": "STRING",
          "value": "\n"
        }
      ]
    },
    "_heading": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "heading1"
        },
        {
          "type": "SYMBOL",
          "name": "heading2"
        },
        {
          "type": "SYMBOL",
          "name": "heading3"
        },
        {
          "type": "SYMBOL",
          "name": "heading4"
        },
        {
          "type": "SYMBOL",
          "name": "heading5"
        },
        {
          "type": "SYMBOL",
          "name": "heading6"
        }
      ]
    },
    "heading1": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "#"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "heading2": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#{2}"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "heading3": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#{3}"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "heading4": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#{4}"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "heading5": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#{5}"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "heading6": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "#{6}"
        },
        {
          "type": "SYMBOL",
          "name": "_gobble_header"
        }
      ]
    },
    "_gobble_header": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_inline_with_newlines"
        },
        {
          "type": "SYMBOL",
          "name": "_eof_or_blankline"
        }
      ]
    },
    "div": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "SYMBOL",
            "name": "_div_start"
          },
          "named": true,
          "value": "div_marker_start"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "class_name"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "\n"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_block"
          }
        },
        {
          "type": "ALIAS",
          "content": {
            "type": "SYMBOL",
            "name": "_div_end"
          },
          "named": true,
          "value": "div_marker_end"
        }
      ]
    },
    "class_name": {
      "type": "PATTERN",
      "value": "\\w+"
    },
    "blockquote": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "SYMBOL",
          "name": "_inline_with_newlines"
        },
        {
          "type": "SYMBOL",
          "name": "_eof_or_blankline"
        }
      ]
    },
    "link_reference_definition": {
      "type": "SEQ",
      "members": [
        {
          "type": "ALIAS",
          "content": {
            "type": "SYMBOL",
            "name": "_reference_link_label"
          },
          "named": true,
          "value": "link_label"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "STRING",
            "value": ":"
          }
        },
        {
          "type": "PATTERN",
          "value": "\\s+"
        },
        {
          "type": "SYMBOL",
          "name": "link_destination"
        },
        {
          "type": "SYMBOL",
          "name": "_one_or_two_newlines"
        }
      ]
    },
    "_reference_link_label": {
      "type": "TOKEN",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "STRING",
            "value": "["
          },
          {
            "type": "IMMEDIATE_TOKEN",
            "content": {
              "type": "PATTERN",
              "value": "\\w+"
            }
          },
          {
            "type": "IMMEDIATE_TOKEN",
            "content": {
              "type": "STRING",
              "value": "]"
            }
          }
        ]
      }
    },
    "link_destination": {
      "type": "PATTERN",
      "value": "\\S+"
    },
    "paragraph": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_inline_with_newlines"
        },
        {
          "type": "SYMBOL",
          "name": "_eof_or_blankline"
        }
      ]
    },
    "_eof_or_blankline": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "\u0000"
        },
        {
          "type": "STRING",
          "value": "\n\n"
        },
        {
          "type": "STRING",
          "value": "\n\u0000"
        }
      ]
    },
    "_one_or_two_newlines": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "\u0000"
        },
        {
          "type": "STRING",
          "value": "\n\n"
        },
        {
          "type": "STRING",
          "value": "\n"
        }
      ]
    },
    "_inline": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_link"
          },
          {
            "type": "SYMBOL",
            "name": "_text"
          },
          {
            "type": "STRING",
            "value": " "
          }
        ]
      }
    },
    "_inline_with_newlines": {
      "type": "REPEAT1",
      "content": {
        "type": "PREC_LEFT",
        "value": 0,
        "content": {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_inline"
            },
            {
              "type": "PATTERN",
              "value": "\\s"
            }
          ]
        }
      }
    },
    "_link": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "full_reference_link"
        },
        {
          "type": "SYMBOL",
          "name": "collapsed_reference_link"
        },
        {
          "type": "SYMBOL",
          "name": "inline_link"
        }
      ]
    },
    "full_reference_link": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "link_text"
        },
        {
          "type": "SYMBOL",
          "name": "link_label"
        }
      ]
    },
    "collapsed_reference_link": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "link_text"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "STRING",
            "value": "[]"
          }
        }
      ]
    },
    "inline_link": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "link_text"
        },
        {
          "type": "SYMBOL",
          "name": "inline_link_destination"
        }
      ]
    },
    "link_text": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "_inline"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "link_label": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "_inline"
        },
        {
          "type": "IMMEDIATE_TOKEN",
          "content": {
            "type": "STRING",
            "value": "]"
          }
        }
      ]
    },
    "inline_link_destination": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "PATTERN",
          "value": "[^\\)]+"
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "_text": {
      "type": "PATTERN",
      "value": "\\S"
    }
  },
  "extras": [
    {
      "type": "STRING",
      "value": "\r"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [
    {
      "type": "SYMBOL",
      "name": "_block_close"
    },
    {
      "type": "SYMBOL",
      "name": "_div_start"
    },
    {
      "type": "SYMBOL",
      "name": "_div_end"
    },
    {
      "type": "SYMBOL",
      "name": "_error_sentinel"
    }
  ],
  "inline": [],
  "supertypes": []
}

